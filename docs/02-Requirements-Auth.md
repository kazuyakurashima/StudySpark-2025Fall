## コンセプト

**このアプリを通じて、保護者、指導者がチームとして関わり、「生徒の可能性を最大限開花させる」ことを目的とする。**

## 前提条件

* **対象**：中学受験を目指す小学生（志望校確定済み）
* **最終目的**：人間的成長。可能性の最大化（長期ゴール）

## 作成方針

フロントエンドはv0で作成

要件定義はkiroで作成

バックエンド開発支援にClaudeCodeを使用予定

## 技術スタック

| レイヤー    | 技術                   | バージョン      |
| ------- | -------------------- | ---------- |
| フロントエンド | Next.js (App Router) | 14.2.x     |
|         | React                | 18.3.x     |
|         | TypeScript           | 5.5.x      |
| バックエンド  | Supabase             | 最新         |
| 認証      | Supabase Auth        | -          |
| UI/UX   | Tailwind CSS         | 最新         |
| AI      | ChatGPT API          | GPT-5-mini |

## デザイン要件

* **メインデバイス**: スマートフォン（iPhone/Android）
* **対応デバイス**: iPad等のタブレット、デスクトップPC
* **カラースキーム**:

  * ベースカラー：ホワイト、ライトグレー、グレー
  * アクセントカラー：ブルー系
* **ナビゲーション**:

  * 画面下部に4つのタブ
* **デザイン方針**: シンプルかつ美しく、上品・上質、洗練されたデザイン

## 認証システム

ユーザー種別と役割

| 役割(role)    | 説明       | アバター選択肢    | 認証方式         | 必要な招待               |
| ----------- | -------- | ---------- | ------------ | ------------------- |
| **student** | 生徒アカウント  | student1〜6 | ログインID／パスワード | 不要（保護者が作成）          |
| **parent**  | 保護者アカウント | parent1〜6  | メール+パスワード    | 不要（自由登録可）           |
| **coach**   | 指導者アカウント | coach1〜6   | メール+パスワード    | **必須（招待のみ）**        |
| **admin**   | 管理者アカウント | なし         | メール+パスワード    | **必須（招待のみ／内部発行のみ）** |

※AIコーチ（ai_coach）はシステム内部キャラクターであり、ユーザーアカウントではない

保護者の認証

```jsx
認証方式: メールアドレス + パスワード
実装: Supabase Auth
メール確認: 必須（確認メール送信）
パスワードリセット: メールによる自動リセット
```

* 初回登録時に、以下を登録する。なお、子どもが複数いる場合も対応する

  * 保護者氏名
  * 保護者氏名ふりがな
  * 保護者のメールアドレス
  * 保護者のパスワード
  * 子どもの学年（小学5年生、小学6年生）
  * 子ども氏名
  * 子どもふりがな
  * 子どものログインID
  * 子どものパスワード
* 保護者初回ログイン時に、保護者のアバターと表示名を決定

  * アバターと名前決定はスキップ機能つき。スキップした時は、アバターは”parent1”の画像ファイルを使用する。表示名は”保護者”とする
  * 後で再登録可能とする

子どもの認証

```jsx
認証方式: ログインID／パスワード
パスワードリセット: 保護者が管理画面から再設定
特記事項:
  - メールアドレス不要
  - 保護者がアカウント作成・管理
```

* 子ども初回ログイン時に、子どものアバターと表示名を決定

  * アバターと名前決定はスキップ機能つき。スキップした時は、アバターは”student1”の画像ファイルを使用する。表示名は”生徒”とする
  * 後で再登録可能とする

コーチの認証

```jsx
認証方式: メールアドレス + パスワード
実装: Supabase Auth
メール確認: 必須（確認メール送信）
パスワードリセット: メールによる自動リセット
特記事項:
  - 指導者は招待リンクまたは招待コードが必須
```

* 初回登録時に、以下を登録する。

  * 指導者氏名
  * 指導者氏名ふりがな
  * 指導者のメールアドレス
  * 指導者のパスワード
* 指導者初回ログイン時に、指導者のアバターと表示名を決定

  * アバターと名前決定はスキップ機能つき。スキップした時は、アバターは”coach1”の画像ファイルを使用する。表示名は”指導者”とする
  * 後で、再登録可能とする
