# 指導者画面 要件定義書

## 概要

学習管理システムの指導者向け画面。生徒の学習記録への応援機能と、生徒一覧機能、AI分析によるリフレクト機能を提供します。リアルタイムな生徒サポートと、週次の詳細分析により、効果的な学習指導を実現します。

---

機能ごとにボタンをトップに表示。それを押すと、その機能のページに遷移する。トップのボタンは常に表示する。

ボタンは次の通り

* ホーム
* 応援一覧
* 生徒一覧
* 分析機能

## 1. ホーム機能

### 1.1 学習記録への応援メッセージ送信

### 機能概要

生徒の学習記録に対して、指導者が即座に応援メッセージを送信できる機能。

### 表示内容

* 生徒の名前
* ニックネーム
* アバター（アイコン）
* 生徒が入力した学習記録
* 保護者の応援履歴
* 指導者の応援履歴
* 詳細ボタン

### 応援方法（3種類から選択）

1. **スタンプ送信**

   * ワンクリックで送信可能
2. **AI応援メッセージ**

   * AIが生成した3つのメッセージから選択
   * 選択後に編集可能
   * 編集後に送信
3. **個別メッセージ作成**

   * オリジナルメッセージを作成して送信

### フィルター機能

| フィルター項目 | 選択肢                     | 備考               |
| ------- | ----------------------- | ---------------- |
| 学年      | 小学5年 / 小学6年 / すべて       | -                |
| 科目      | 算数 / 国語 / 理科 / 社会 / すべて | -                |
| 応援      | 指導者 / 保護者 / 応援なし / すべて  | 応援者別に絞り込み可能      |
| 並び順     | 昇順 / 降順                 | デフォルトは降順表示（最新が上） |

### 詳細ボタン機能

* **初回クリック**: その生徒の学習履歴を最大10件表示
* **閉じるボタン**: 詳細表示を閉じる
* **さらに10件表示ボタン**: 古い履歴を10件ずつ追加表示（無制限）

---

### 1.2 未入力生徒一覧

### 警告機能

* **警告条件**: 1週間（7日間）以上未入力
* **警告表示**: 該当生徒を視覚的に強調表示
* **対応後**: 対応ボタンで警告表示を管理
* **未入力日数の計算は Asia/Tokyo を基準とする**

### フィルター/しきい値

未入力日数のしきい値を選択可能

* **7日以上**
* **5日以上**
* **3日以上**

### 表示項目

* 生徒名
* ニックネーム
* アバター
* 最終入力日
* 未入力日数
* 対応ボタン
* 対応メモボタン

### 対応ボタン仕様

**対応ボタン**

* 初回押下: グレーアウト → 警告表示停止
* 再度押下: グレーアウト解除 → 警告表示再開
* トグル動作で対応状態を管理

**対応メモボタン**

* クリックでメモ入力フォームを表示
* **入力可能文字数**: 最大300字
* **自動保存項目**:

  * メモ内容
  * 記入日時
  * 記入者（指導者の名前）
  * 記入者のアバター
* **保存後の動作**: ボタンがグレーアウト
* **編集権限**:

  * 記入者本人: メモを編集可能
  * 他の指導者: メモを追記可能（元のメモは保持）
* **再度押下**: グレーアウト解除

## 2. 応援一覧機能

### 2.1 タブ構成

### 指導者タブ

* 指導者の応援履歴を表示
* **初期表示**: 最大10件
* **もっと表示**: 10件ずつ追加表示

**フィルター機能**

* 指導者別フィルター（複数指導者から選択）
* 期間フィルター（日付範囲指定）
* **デフォルト表示順**: 降順（最新が上）

### 保護者タブ

* 保護者の応援履歴を表示
* **初期表示**: 最大10件
* **もっと表示**: 10件ずつ追加表示

**フィルター機能**

* 保護者別フィルター（複数保護者から選択）
* 期間フィルター（日付範囲指定）
* **デフォルト表示順**: 降順（最新が上）

### 2.2 表示内容

各応援履歴には以下を表示

* 応援者名・アバター
* 応援対象の生徒名
* 応援内容（スタンプ/メッセージ）
* 対象となった学習記録の概要
* 応援日時

## 3. 生徒一覧機能

### 3.1 生徒一覧画面

### 表示内容

各生徒カードに以下を表示

* 生徒の名前
* ニックネーム
* アバター
* 学年

### アクションボタン

各生徒に対して以下のボタンを配置

| ボタン名    | 機能                        | 閲覧可能な内容       |
| ------- | ------------------------- | ------------- |
| ホーム     | 学習カレンダー、今日のミッション！、今週の進捗など | 生徒のホーム機能の一部   |
| ゴールナビ   | テスト結果のみ閲覧                 | 生徒のゴールナビ機能の一部 |
| 達成マップ   | 達成マップを閲覧                  | 生徒のリフレクト機能の一部 |
| 学習履歴    | 学習履歴を閲覧                   | 生徒のリフレクト機能の一部 |
| 応援履歴    | 応援履歴を閲覧                   | 生徒のリフレクト機能の一部 |
| コーチング履歴 | コーチング履歴を閲覧                | 生徒のリフレクト機能の一部 |

※各ボタンをクリックすると、該当する生徒の詳細画面へ遷移するが、閉じるボタンで生徒一覧画面に戻るとする
※学習カレンダーは生徒画面と同一仕様（先月・当月）
※今週の進捗は生徒画面と同一指標（正答率）

---

## 4. 分析機能（週次AI分析）

### 4.1 分析実行タイミング
週の定義は月曜開始〜日曜終了／Asia-Tokyo基準

### 中間分析

* **実行日時**: 毎週月曜日 0:00
* **分析対象**: 直近対象週（前週の日曜日まで）
* **例**: 9月29日(月)分析時 → 第4回（9/22〜9/28）を分析

### 最終分析

* **実行日時**: 毎週木曜日 0:00
* **分析対象**: 直近対象週（前週の日曜日まで）
* **例**: 10月2日(木)分析時 → 第4回（9/22〜9/28）を分析

---

### 4.2 分析項目（5項目）

### 4.2.1 ゴールナビのテスト結果分析

* 目標と実績の比較分析

### 4.2.2 達成マップの分析

* 達成状況の傾向分析

### 4.2.3 学習履歴の分析

* 学習時間、頻度、科目バランスの分析

### 4.2.4 応援履歴の分析

* 応援の効果と生徒の行動変容分析

### 4.2.5 コーチング履歴の分析

* Willの品質とその効果分析

---

### 4.3 共通分析軸（全項目共通）

1. **学年別分析**: 小学5年/6年
2. **生徒別分析**: 個別生徒ごと
3. **科目別分析**: 算数/国語/理科/社会
4. **前週比較**: 先週の結果との比較

---

### 4.4 項目別固有の分析軸

### 応援履歴の固有分析

* **応援者別**: 指導者/保護者
* **応援種類別**: スタンプ/AIメッセージ/個別メッセージ
* **応援量**: 回数、頻度
* **効果測定**: 応援後の生徒の行動変容

### コーチング履歴の固有分析

* **Will品質分析（SMART度）**

  * 具体性（Specific）
  * 計測可能性（Measurable）
  * 時間制約（Time-bound）
* **Willの達成率**: 設定したWillの達成状況
* **行動変容**: Willと実際の行動の関連性

---

### 4.5 分析結果の表示形式

### 2段階表示

1. **サマリー**: 重要ポイントを簡潔に表示
2. **詳細**: 深掘りした分析結果と示唆

### 履歴閲覧機能

* 過去の分析結果を選択して閲覧可能
* 時系列での変化を確認可能

---

## 5. 技術要件

### データ分析

* ChatGPT APIを使用した自動分析
* 週2回（月曜/木曜）の定期実行

### UI/UX要件

* レスポンシブデザイン
* 直感的な操作性
* リアルタイム更新
* モバイル対応

---
