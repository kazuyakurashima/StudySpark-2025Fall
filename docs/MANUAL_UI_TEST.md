# StudySpark UI動作確認マニュアル

**作成日:** 2025年10月11日
**対象環境:** ローカル開発環境（Supabase Local）
**確認者:** ユーザー → Claude Code が記録

---

## 📋 目次

1. [事前準備](#事前準備)
2. [デモアカウント情報](#デモアカウント情報)
3. [確認チェックリスト](#確認チェックリスト)
4. [バグ・問題報告フォーマット](#バグ問題報告フォーマット)

---

## 事前準備

### 1. Supabase Local 起動確認

```bash
# Dockerコンテナ確認
docker ps | grep supabase

# 起動していない場合
supabase start
```

**確認URL:**
- Supabase Studio: http://127.0.0.1:54323
- API: http://127.0.0.1:54321

### 2. 開発サーバー起動

```bash
npm run dev
```

**アクセスURL:** http://localhost:3000

---

## デモアカウント情報

### 生徒アカウント

| ログインID | パスワード | 学年 | コース | 備考 |
|-----------|----------|------|--------|------|
| `demo-student5` | 確認中 | 6年生 | - | - |
| `demo-student6` | 確認中 | 6年生 | - | - |

### 保護者アカウント

| メールアドレス | パスワード | 紐付け生徒 | 備考 |
|--------------|----------|-----------|------|
| 確認中 | 確認中 | - | - |

### 指導者アカウント

| メールアドレス | パスワード | 備考 |
|--------------|----------|------|
| 確認中 | 確認中 | - |

### 管理者アカウント

| メールアドレス | パスワード | 備考 |
|--------------|----------|------|
| 確認中 | 確認中 | - |

---

## 確認チェックリスト

### ✅ Phase 1: 認証フロー（全ロール共通）

#### 1.1 生徒ログイン

- [ ] **ログインページ表示** (`http://localhost:3000`)
  - [ ] ログインIDフィールド表示
  - [ ] パスワードフィールド表示
  - [ ] ログインボタン表示
  - [ ] 新規登録リンク表示

- [ ] **ログイン実行**
  - [ ] ログインID・パスワード入力可能
  - [ ] ログインボタン押下可能
  - [ ] ログイン成功時にダッシュボードへ遷移
  - [ ] ログイン失敗時にエラーメッセージ表示

- [ ] **セットアップフロー（初回のみ）**
  - [ ] アバター選択画面表示
  - [ ] プロフィール入力画面表示
  - [ ] 名前入力画面表示
  - [ ] スキップ可能

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 1.2 保護者ログイン

- [ ] **ログインページ表示**
  - [ ] メールアドレスフィールド表示
  - [ ] パスワードフィールド表示
  - [ ] ログインボタン表示

- [ ] **ログイン実行**
  - [ ] ログイン成功時にダッシュボードへ遷移
  - [ ] 子ども選択タブ表示（複数子どもの場合）

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 1.3 指導者ログイン

- [ ] **ログイン実行**
  - [ ] ログイン成功時にダッシュボードへ遷移
  - [ ] 生徒一覧表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 1.4 管理者ログイン

- [ ] **ログイン実行**
  - [ ] ログイン成功時に管理ダッシュボードへ遷移
  - [ ] システム統計表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 2: 生徒機能

#### 2.1 ダッシュボード (`/student`)

- [ ] **レイアウト確認**
  - [ ] ボトムナビゲーション表示（4タブ）
  - [ ] 2列レイアウト（タブレット/PC）
  - [ ] 1列レイアウト（スマホ）

- [ ] **表示要素確認**
  - [ ] AIコーチからのメッセージ表示
  - [ ] 今日のミッション表示
  - [ ] 学習カレンダー（ヒートマップ）表示
  - [ ] 今週の科目別進捗バー表示
  - [ ] 直近の応援メッセージ表示
  - [ ] 直近の学習履歴表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 部分的 / [ ] 失敗
問題:
```

#### 2.2 スパーク（学習記録入力） (`/student/spark`)

- [ ] **ページ表示**
  - [ ] 学習回選択ドロップダウン表示
  - [ ] 科目選択（算数・国語・理科・社会）表示
  - [ ] 学習内容選択表示

- [ ] **入力フロー**
  - [ ] 学習回選択可能
  - [ ] 科目選択可能
  - [ ] 学習内容選択可能
  - [ ] 問題数・正答数入力可能
  - [ ] 保存ボタン押下可能
  - [ ] 保存成功後にメッセージ表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 2.3 ゴールナビ（目標管理） (`/student/goal`)

- [ ] **ページ表示**
  - [ ] 3タブ（目標入力/結果入力/テスト結果）表示

- [ ] **目標入力タブ**
  - [ ] 目標クラス選択可能
  - [ ] 目標コース選択可能
  - [ ] AI対話開始ボタン表示
  - [ ] 6ステップAI対話機能

- [ ] **結果入力タブ**
  - [ ] 4科目+偏差値入力フォーム表示
  - [ ] 目標 vs 実績比較表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 2.4 リフレクト（週次振り返り） (`/student/reflect`)

- [ ] **ページ表示**
  - [ ] 週次振り返り利用可能時間の表示（土曜12:00〜水曜23:59）
  - [ ] LINEライクチャットUI表示

- [ ] **AI対話**
  - [ ] AI対話開始可能
  - [ ] 3〜6往復の対話
  - [ ] サマリー自動生成

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 3: 保護者機能

#### 3.1 ダッシュボード (`/parent`)

- [ ] **レイアウト確認**
  - [ ] 子ども選択タブ表示（複数の場合）
  - [ ] ボトムナビゲーション表示（4タブ）

- [ ] **表示要素確認**
  - [ ] 今日の様子（AI生成メッセージ）表示
  - [ ] 学習カレンダー表示
  - [ ] 今週の科目別進捗表示
  - [ ] 直近の応援メッセージ表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 3.2 応援機能 (`/parent/encouragement`)

- [ ] **ページ表示**
  - [ ] 応援タブ（一覧/送信）表示

- [ ] **応援送信**
  - [ ] クイック応援ボタン表示・機能
  - [ ] AI応援生成機能
  - [ ] カスタムメッセージ入力・送信

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 3.3 目標閲覧 (`/parent/goal-navi`)

- [ ] **ページ表示**
  - [ ] 子どもの目標表示（読み取り専用）
  - [ ] テスト結果表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 3.4 振り返り閲覧 (`/parent/reflect`)

- [ ] **ページ表示**
  - [ ] 4タブUI（履歴/達成マップ/週次振り返り/テスト結果）
  - [ ] AI対話内容表示（読み取り専用）

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 4: 指導者機能

#### 4.1 ダッシュボード (`/coach`)

- [ ] **レイアウト確認**
  - [ ] ボトムナビゲーション表示（4タブ）
  - [ ] サマリー情報表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 4.2 生徒一覧 (`/coach/students`)

- [ ] **ページ表示**
  - [ ] 生徒一覧カード表示
  - [ ] 検索機能
  - [ ] フィルター機能（学年・コース）

- [ ] **生徒詳細遷移**
  - [ ] 生徒カードクリックで詳細ページへ遷移

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 4.3 生徒詳細 (`/coach/student/[id]`)

- [ ] **ページ表示**
  - [ ] 生徒情報表示
  - [ ] 週次AI分析表示
  - [ ] 学習履歴表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 4.4 応援機能 (`/coach/encouragement`)

- [ ] **ページ表示**
  - [ ] 2タブUI（一覧/送信）
  - [ ] 未入力生徒一覧表示

- [ ] **応援送信**
  - [ ] クイック/AI/カスタム応援機能

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 5: 管理者機能

#### 5.1 ダッシュボード (`/admin`)

- [ ] **ページ表示**
  - [ ] システム統計表示（ユーザー数・データ数）
  - [ ] 最近の監査ログ表示（直近5件）
  - [ ] 5タブナビゲーション表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 5.2 監査ログ (`/admin/audit-logs`)

- [ ] **ページ表示**
  - [ ] 監査ログ一覧表示
  - [ ] テーブル名フィルター（12テーブル）
  - [ ] 操作種別フィルター（作成・更新・削除）
  - [ ] ページネーション（20件/ページ）

- [ ] **詳細表示**
  - [ ] old_data/new_data のJSON表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 5.3 招待コード管理 (`/admin/invitation-codes`)

- [ ] **ページ表示**
  - [ ] 招待コード一覧表示
  - [ ] 新規発行フォーム表示

- [ ] **機能確認**
  - [ ] 招待コード発行可能
  - [ ] 有効/無効切り替え可能

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 5.4 ユーザー管理 (`/admin/users`)

- [ ] **ページ表示**
  - [ ] ユーザー一覧表示
  - [ ] ロールフィルター（全て/生徒/保護者/指導者/管理者）
  - [ ] 検索機能（名前・メール）

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 5.5 システム設定 (`/admin/settings`)

- [ ] **ページ表示**
  - [ ] メンテナンスモード切り替え（Switch UI）
  - [ ] 機能フラグ管理（週次AI分析、応援メッセージ、週次振り返り）
  - [ ] システム情報表示（バージョン、環境、DB）

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 6: レスポンシブ対応

#### 6.1 スマホ表示（375px）

- [ ] **生徒ダッシュボード**
  - [ ] 1列レイアウト
  - [ ] ボトムナビゲーション表示
  - [ ] スクロール可能

- [ ] **保護者ダッシュボード**
  - [ ] 1列レイアウト
  - [ ] タブ切り替え可能

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 6.2 タブレット表示（768px）

- [ ] **生徒ダッシュボード**
  - [ ] 2列レイアウト
  - [ ] カード配置適切

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 6.3 デスクトップ表示（1024px以上）

- [ ] **全ページ**
  - [ ] レイアウト崩れなし
  - [ ] 適切な余白

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

### ✅ Phase 7: エラーハンドリング

#### 7.1 データなし状態

- [ ] **生徒ダッシュボード**
  - [ ] 学習記録なし時の表示
  - [ ] 応援メッセージなし時の表示

- [ ] **保護者ダッシュボード**
  - [ ] 子どもの学習データなし時の表示

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

#### 7.2 ローディング状態

- [ ] **各ページ**
  - [ ] ローディングインジケーター表示
  - [ ] データ取得中の表示適切

**確認結果:**
```
状態: [ ] 成功 / [ ] 失敗 / [ ] 未確認
問題:
```

---

## バグ・問題報告フォーマット

### 報告テンプレート

```markdown
## バグ報告 #[番号]

**発見日:** YYYY-MM-DD
**発見者:** [名前]
**優先度:** [ ] 高 / [ ] 中 / [ ] 低

### 現象
[何が起きたか]

### 再現手順
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

### 期待される動作
[本来どう動くべきか]

### 実際の動作
[実際にどう動いたか]

### スクリーンショット
[あれば添付]

### 環境
- ブラウザ: [Chrome/Safari/Firefox]
- 画面サイズ: [375px/768px/1024px]
- OS: [macOS/Windows/iOS/Android]

### 備考
[その他の情報]
```

---

## 進捗管理

### 確認状況サマリー

| フェーズ | 確認項目数 | 完了 | 未確認 | 進捗率 |
|---------|-----------|------|--------|--------|
| Phase 1: 認証フロー | - | - | - | -% |
| Phase 2: 生徒機能 | - | - | - | -% |
| Phase 3: 保護者機能 | - | - | - | -% |
| Phase 4: 指導者機能 | - | - | - | -% |
| Phase 5: 管理者機能 | - | - | - | -% |
| Phase 6: レスポンシブ | - | - | - | -% |
| Phase 7: エラー処理 | - | - | - | -% |
| **合計** | **-** | **-** | **-** | **-%** |

### 発見したバグ数

- **高優先度:** 0件
- **中優先度:** 0件
- **低優先度:** 0件
- **合計:** 0件

---

**最終更新:** 2025年10月11日
**更新者:** Claude Code
