# 指導者画面 UI/UX 再設計計画

## 概要

指導者（コーチ）画面のナビゲーション多重化・機能重複を解消し、シンプルで迷わないUXを実現する。

---

## 現状の問題

### ナビゲーションの多重化
- UserProfileHeader（トップ）
- 生徒詳細のタブナビ（6タブ）
- クイックアクション（タブと重複）
- ボトムナビ（4項目）

### 機能の重複
| 機能 | ボトムナビ | 生徒詳細タブ | クイックアクション |
|------|-----------|-------------|-------------------|
| 目標 | ✅ | ✅ | ✅ |
| 応援 | ✅ | ✅ | ✅ |
| 分析 | ✅ | ✅ | ✅ |

→ 同じ機能が3箇所に存在し、ユーザーが迷う

---

## 設計原則

### 主要タスク（優先度順）
1. **毎日**: 生徒の学習記録を確認し、応援メッセージを送る
2. **毎日**: 問題のある生徒（未入力等）を早期発見
3. **週次**: 生徒の目標達成度を確認
4. **随時**: 特定生徒の詳細な分析を見る

### 理想的なユーザーフロー
```
ホーム（ダッシュボード）
    ↓
  生徒カードをタップ
    ↓
生徒詳細ページ（すべての情報と操作がここで完結）
    ↓
  戻るボタン
    ↓
ホーム
```

### 必須条件
- **応援送信**: 1タップ以内で到達可能
- **未入力検知**: ホームのファーストビューで確認可能
- **戻り導線**: 常に上部に固定（←）+ スワイプバック対応

---

## 短期実装計画（優先度: 高）

### 1. 生徒詳細ページ

#### 変更内容
- [ ] タブを6→3に削減: **概要 | 学習 | 応援**
- [ ] クイックアクション廃止
- [ ] ボトムナビ非表示（フルスクリーン体験）
- [ ] ヘッダーをシンプル化: `← 田中太郎 小6・Aコース`

#### 概要タブの情報階層
```
1. サマリーカード（4つ）
   - 連続日数
   - 今週の学習日
   - 正答率
   - 問題数

2. 最近の学習（3件程度）
   - 科目・正答率・時間
   - 応援ボタン（未応援の場合）

3. 目標セクション
   - 次のテスト目標
   - 達成状況

4. 簡易分析セクション
   - 科目別正答率グラフ（コンパクト）
```

#### ワイヤーフレーム
```
┌────────────────────────────────────┐
│  ← 田中太郎  小6・Aコース          │
├────────────────────────────────────┤
│                                    │
│   ┌──────┬──────┬──────┬──────┐   │
│   │連続3日│今週4日│正答85%│120問│   │
│   └──────┴──────┴──────┴──────┘   │
│                                    │
│   ──── 概要 | 学習 | 応援 ────     │
│                                    │
│   最近の学習                        │
│   ─────────────────────────────    │
│   算数 85% · 2時間前    [応援]     │
│   国語 72% · 昨日       ✓済       │
│                                    │
│   目標                              │
│   ─────────────────────────────    │
│   合不合テスト 第3回: Bコース希望   │
│   現在の予測: Bコース 到達可能      │
│                                    │
│   分析                              │
│   ─────────────────────────────    │
│   [科目別正答率グラフ]              │
│                                    │
└────────────────────────────────────┘
（ボトムナビなし）
```

### 2. ホーム画面

#### 変更内容
- [ ] ファーストビューに「要対応/応援待ち」カード固定
- [ ] 担当生徒一覧（ステータスドット付き）
- [ ] 最近の学習（5件、応援待ち優先）

#### ワイヤーフレーム
```
┌────────────────────────────────────┐
│  ダッシュボード              [更新] │
├────────────────────────────────────┤
│                                    │
│  ⚠️ 3名の生徒が7日以上未入力       │  ← アラート（常時表示）
│  [田中] [佐藤] [鈴木]              │
│                                    │
│  担当生徒                    5名   │
│  ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ │
│  │😊🟢│ │😊🟡│ │😊🔴│ │😊🟢│ │😊🟢│ │
│  │田中│ │佐藤│ │鈴木│ │高橋│ │伊藤│ │
│  └───┘ └───┘ └───┘ └───┘ └───┘ │
│                                    │
│  最近の学習              すべて見る→│
│  ─────────────────────────────    │
│  田中 算数 85% 2時間前     [応援]  │
│  佐藤 国語 72% 5時間前     [応援]  │
│  高橋 理科 90% 昨日        ✓済    │
│                                    │
└────────────────────────────────────┘
┌─────────────┬─────────────┬─────────┐
│   🏠 ホーム  │  💬 応援   │ ⚙️ 設定 │  ← ボトムナビ3項目
└─────────────┴─────────────┴─────────┘
```

### 3. ボトムナビゲーション

#### 変更内容
- [ ] 4項目 → 3項目に削減
- [ ] `ホーム | 応援 | 設定`
- [ ] 「ゴールナビ」「分析」は削除（生徒詳細に統合）

#### 役割の明確化
| タブ | 役割 |
|------|------|
| ホーム | 全体俯瞰・生徒一覧・アラート |
| 応援 | 全生徒の応援待ちリスト（横断的タスク管理） |
| 設定 | プロフィール・アカウント設定 |

---

## デザイントークン

### 色彩
```css
/* 背景 */
--bg-page: #f8fafc;        /* slate-50 */
--bg-card: #ffffff;

/* テキスト */
--text-primary: #0f172a;   /* slate-900 */
--text-secondary: #64748b; /* slate-500 */
--text-muted: #94a3b8;     /* slate-400 */

/* アクセント */
--accent-primary: #3b82f6; /* blue-500（ブランドカラー） */

/* ステータス */
--status-good: #10b981;    /* emerald-500 */
--status-warning: #f59e0b; /* amber-500 */
--status-alert: #ef4444;   /* red-500 */
```

### カードスタイル
```css
.card {
  background: var(--bg-card);
  border: none;
  border-radius: 1rem;      /* rounded-2xl */
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); /* shadow-sm */
}

.card:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); /* shadow-md */
}
```

### スペーシング
```css
--spacing-section: 2rem;   /* space-y-8 */
--spacing-card: 1rem;      /* gap-4 */
--spacing-content: 1rem;   /* p-4 */
```

---

## 中期実装計画（優先度: 中）

### 1. 応援ページのUI刷新
- [ ] カードレイアウト統一
- [ ] 同時記録バッジ対応
- [ ] フィルタUIの改善

### 2. 縦長スクロール対応
- [ ] 見出し固定（sticky header）
- [ ] 「トップへ戻る」ボタン
- [ ] セクション間のナビゲーション

### 3. デザインシステム化
- [ ] アイコン一覧の整理
- [ ] タイポグラフィスケールの定義
- [ ] コンポーネントライブラリ化

---

## リスク対策

### 導線確保
- 「応援待ち」「要対応」はホーム上部に常時表示
- ボトムナビ「応援」タブで全体横断ビューを確保

### 受け入れテスト項目
- [ ] 応援送信が1タップ以内で到達可能か
- [ ] 未入力検知がファーストビューで確認可能か
- [ ] 生徒詳細からホームへの戻りがスムーズか
- [ ] スワイプバックが機能するか

---

## 実装順序

### Phase 1（短期）
1. 生徒詳細: タブ削減・クイックアクション廃止
2. 生徒詳細: ボトムナビ非表示
3. 生徒詳細: 概要タブの情報階層再設計
4. ボトムナビ: 3項目に削減
5. ホーム: アラートをファーストビューに固定

### Phase 2（中期）
6. 応援ページ: UI刷新
7. 全体: デザイントークン適用
8. 全体: スクロール体験の改善

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2024-12-08 | 初版作成 |
